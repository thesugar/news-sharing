(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"+aPl":function(e,t,n){"use strict";n.r(t);var a=n("ERkP"),o=n.n(a),r=n("7xIC"),i=n.n(r),s=n("h7sq"),l=n("tS02"),c=n("/XES"),u=n("ztBH"),d=n("Fayl"),p=n("uDfI"),h=n("jvFD"),m=n.n(h),b=(n("3FTO"),n("TPw6")),f=n.n(b),g=n("vTWr"),v=n("znL5"),y=n("t1LS"),j=n.n(y),O=n("gBNo"),S=n("tDgs"),x=n("qtMa"),k=n("2Enm"),w=n.n(k),C=o.a.createElement,I=function(e){function t(e){var n;return Object(s.a)(this,t),n=Object(c.a)(this,Object(u.a)(t).call(this,e)),Object(v.a)(Object(g.a)(n),"onChangeText",(function(e){n.setState({textAreaValue:e.target.value})})),Object(v.a)(Object(g.a)(n),"doAction",(function(e,t,a){var o=j.a.firestore(),r=j.a.firestore.Timestamp.fromDate(new Date);o.collection("share").doc(e).set({comment:Object(v.a)({},r.seconds+t,{speaker:t,text:n.state.textAreaValue,date:r})},{merge:!0}).then((function(e){console.log("\u30b3\u30e1\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f"),n.setState({message:"\u8fd4\u4fe1\u3057\u307e\u3057\u305f\uff01\u7d9a\u3051\u3066\u5225\u306e\u4eba\u3084\u30b0\u30eb\u30fc\u30d7\u306b\u5171\u6709\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002",textAreaValue:""}),setTimeout((function(){n.setState({message:null})}),2e3)})).catch((function(e){console.log("\u8fd4\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u30ea\u30c8\u30e9\u30a4\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),n.setState({message:"\u5171\u6709\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u30ea\u30c8\u30e9\u30a4\u3057\u3066\u304f\u3060\u3055\u3044\u3002",textAreaValue:""}),setTimeout((function(){n.setState({message:null})}),2e3)}))})),Object(v.a)(Object(g.a)(n),"sync",(function(e){j.a.firestore().collection("share").doc(e).onSnapshot((function(e){console.log("inside sync func!"),console.log(e.data());var t=e.data().comment,a=[];f()(t).map((function(e){return a.push(C("li",{key:e},t[e].speaker,": ",t[e].text," (",new Date(1e3*t[e].date.seconds).toLocaleString(),")"))})),n.setState({commentList:a})}))})),0==n.props.login&&i.a.push("/"),n.state={textAreaValue:"",message:null},n.logined=n.logined.bind(Object(g.a)(n)),n.doAction=n.doAction.bind(Object(g.a)(n)),n.onChangeText=n.onChangeText.bind(Object(g.a)(n)),n.sync(n.props.shareId),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"logined",value:function(){console.log("logined.")}},{key:"logouted",value:function(){i.a.push("/")}},{key:"render",value:function(){var e=this,t=this.props.shareId,n=this.props.userid;return C("div",null,this.state.commentList,C("br",null),C("div",null,C(x.a,{container:!0,spacing:1,alignItems:"center"},C(x.a,{item:!0},C(w.a,null)),C(x.a,{item:!0},C(S.a,{id:"outlined-multiline-flexible",label:"Reply",placeholder:"\u8fd4\u4fe1\u3059\u308b",multiline:!0,rowsMax:"5",size:"medium",value:this.state.textAreaValue,onChange:this.onChangeText,variant:"outlined"})),C(x.a,{item:!0},C(O.a,{variant:"contained",color:"primary",onClick:function(a){return e.doAction(t,n,a)}},"\u8fd4\u4fe1")))),C("p",null,this.state.message))}}]),t}(a.Component),T=I=Object(p.b)((function(e){return e}))(I),E=o.a.createElement,F=function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log("inside ShareInfo.js. this props is"),console.log(this.props),E("div",null,E("ul",null,E("div",null,E("h1",null,this.props.articlesSharedByFriends[this.props.shareId].title),E("img",{src:this.props.articlesSharedByFriends[this.props.shareId].image}),E("p",null,this.props.articlesSharedByFriends[this.props.shareId].description),E("p",null,E("a",{href:this.props.articlesSharedByFriends[this.props.shareId].url,target:"_blank"},"\u5168\u6587\u3092\u8aad\u3080")),E("p",null,"from: ",this.props.articlesSharedByFriends[this.props.shareId].sharedFrom,E("br",null),"to: ",this.props.articlesSharedByFriends[this.props.shareId].sharedTo.map((function(e){return e+" "}))),E(T,{shareId:this.props.shareId}))))}}]),t}(a.Component),A=F=Object(p.b)((function(e){return e}))(F),P=n("L4Mh"),B=n("yUsM"),D=n("KEZU"),V=n("zmDv"),_=n("1+i7"),L=n("KYp3"),M=o.a.createElement;function R(){return M(B.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",M(V.a,{color:"inherit",href:"https://material-ui.com/"},"Shohan Corporation.")," ",(new Date).getFullYear(),".")}t.default=function(){var e=Object(r.useRouter)().query.shareid;return M(P.a,{disableGutters:!0,maxWidth:"lg"},M(L.a,null),M(D.a,{my:4},M(B.a,{variant:"body",gutterBottom:!0},M(A,{shareId:e}),M(m.a,{href:"/"},M(O.a,{variant:"contained",color:"secondary"},"back"))),M(_.a,null),M(R,null)))}},"3FTO":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("Dlp7"),o=n("ERkP"),r=n.n(o),i=n("UE5/"),s=n("A09V"),l=n("gBNo"),c=r.a.createElement;function u(){return Math.round(20*Math.random())-10}function d(){var e=50+u(),t=50+u();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var p=Object(i.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function h(e){var t=p(),n=r.a.useState(d),o=Object(a.a)(n,1)[0],i=r.a.useState(!1),u=Object(a.a)(i,2),h=u[0],m=u[1];return c("div",null,c(l.a,{variant:"contained",color:"primary",onClick:function(){m(!0),e.onClickProcess&&e.onClickProcess()}},e.buttonText),c(s.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:h,onClose:function(){m(!1)}},c("div",{style:o,className:t.paper},e.content)))}},R0nP:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/share/[shareid]",function(){return n("+aPl")}])}},[["R0nP",1,2,5,4,3,0,6,7]]]);