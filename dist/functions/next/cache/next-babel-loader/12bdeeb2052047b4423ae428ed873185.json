{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Router from 'next/router';\nimport firebase from \"firebase\";\n\nvar ShareNews = /*#__PURE__*/function (_Component) {\n  _inherits(ShareNews, _Component);\n\n  function ShareNews(props) {\n    var _this;\n\n    _classCallCheck(this, ShareNews);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ShareNews).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"doAction\", function (article, userid, e) {\n      console.log('doActionの中');\n      console.log('userid is');\n      console.log(userid);\n      var db = firebase.firestore(); // Firestore の登録処理\n\n      db.collection('share').add({\n        title: article.title,\n        description: article.description,\n        image: article.urlToImage,\n        url: article.url,\n        sharedFrom: userid //sharedTo : \n\n      }).then(function (doc) {\n        console.log(\"\\u5171\\u6709\\u3057\\u307E\\u3057\\u305F\");\n      })[\"catch\"](function (error) {\n        console.log(\"\\u5171\\u6709\\u306B\\u5931\\u6557\\u3057\\u307E\\u3057\\u305F\\u3002\\u30EA\\u30C8\\u30E9\\u30A4\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\\u3002\");\n      });\n\n      _this.setState({\n        title: '',\n        description: '',\n        image: '',\n        url: ''\n      });\n    });\n\n    if (_this.props.login == false) {\n      Router.push('/');\n    }\n\n    _this.state = {\n      title: '',\n      description: '',\n      url: '',\n      image: ''\n    };\n    _this.logined = _this.logined.bind(_assertThisInitialized(_this));\n    _this.doAction = _this.doAction.bind(_assertThisInitialized(_this));\n    return _this;\n  } // login, logout 処理\n\n\n  _createClass(ShareNews, [{\n    key: \"logined\",\n    value: function logined() {\n      console.log('logined.');\n    }\n  }, {\n    key: \"logouted\",\n    value: function logouted() {\n      Router.push('/');\n    } // データの登録処理\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var article = this.props.article;\n      var userid = this.props.userid;\n      return __jsx(\"div\", null, __jsx(\"button\", {\n        onClick: function onClick(e) {\n          return _this2.doAction(article, userid, e);\n        }\n      }, \"\\u5171\\u6709\\u3059\\u308B\")) // 共有先はここでモーダル（ポータル）を表示して選べるようにする\n      ;\n    }\n  }]);\n\n  return ShareNews;\n}(Component);\n\nShareNews = connect(function (state) {\n  return state;\n})(ShareNews);\nexport default ShareNews;","map":null,"metadata":{},"sourceType":"module"}