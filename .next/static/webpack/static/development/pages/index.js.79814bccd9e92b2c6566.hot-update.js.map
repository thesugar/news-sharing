{"version":3,"file":"static/webpack/static/development/pages/index.js.79814bccd9e92b2c6566.hot-update.js","sources":["webpack:///./components/NewsList.js"],"sourcesContent":["import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport {connect} from 'react-redux';\nimport Link from 'next/link';\nimport NewsCard from '../components/NewsCard';\nimport Account from '../components/Account';\nimport firebase from \"firebase\";\n\nclass NewsList extends Component {\n\n    constructor(props){\n        console.log('NewsListのconstructor');\n        super(props);\n        this.logined = this.logined.bind(this);\n    }\n\n    // get data from Firebase\n    getNews = async () => {\n        // fill your API key!\n        const url = \"https://newsapi.org/v2/everything?q=mufg&sortBy=popularity&apiKey=30d451b495234aae8b35d83d68082817\";\n        let self = this;\n\n        const result = await fetch(url);\n        const json = await result.json();\n\n        this.props.dispatch({\n            type : 'UPDATE_USER',\n            value : {\n                articles: json.articles\n            }\n        })\n    }\n\n    logined(){\n        console.log('loginしました');\n        //this.getFireData();\n    }\n\n    logouted(){\n        console.log('logoutしました');\n    }\n    \n    /*\n            <li key={index.toString}>\n                <Link href=\"/p/[id]\" as={`/p/${index}`}>\n                {article['title']}\n                </Link>\n            <ul>\n                <li key=\"0\"><img src={article['urlToImage']} width=\"100\" height=\"100\" /></li>\n                <li key=\"1\">{article['description']}</li>\n                <li key=\"2\">{article['content']}</li>\n            </ul>\n            </li>);\n    */\n\n    render() {\n        console.log('NewsListのrender()');\n        console.log('今のthis.propsは');\n        console.log(this.props);\n        this.props.articles.length === 0 && this.getNews();\n        const itemList = [];\n        this.props.articles.map((article, index) => {\n            itemList.push(\n                <NewsCard title={article['title']} image={article['urlToImage']} description={article['description']} index={index} />\n            );\n        })\n\n        return (\n            <div>\n                <Account onLogined={this.logined} onLogouted={this.logouted}/>\n            <ul>\n                {itemList}\n            </ul>\n            </div>\n        );\n    }\n}\n\nNewsList = connect((state) => state)(NewsList);\nexport default NewsList;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AAHA;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AACA;AADA;AAKA;AALA;AAAA;AACA;AADA;AAMA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AALA;AAHA;AAIA;AACA;AACA;;;AAiBA;AACA;AAEA;;;AAEA;AACA;AACA;AAEA;;;;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AAnEA;AACA;AAqEA;AAAA;AAAA;AACA;;;;A","sourceRoot":""}